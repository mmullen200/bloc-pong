<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 10px;
        padding: 0px;
      }
      .net {
        border-right: black;
        left: 545px;
        position: absolute;
        border-width: 5px;
        border-right-style: dashed;
        height: 600px;
        top: 30px;
      }
    </style>
  </head>
  <body>
      <div class="net"></div>
    <canvas id="myCanvas" width="1000" height="600" style="border:20px solid #00FF00;"></canvas>
   
     
      
    <script>
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');
        
        var dx = 5;
        var dy = 5;
        var speed = 30;
        var player1Score = 0;
        var player2Score = 0;
        
        
        
        function Paddle(x, y, speed) {
            this.x = x;
            this.y = y;
            this.speed = speed;
            this.width = 20;
            this.height = 75;
        }
        
        Paddle.prototype.moveUp = function () {
            this.y-=speed;
            
            
            
            
            redraw();
        }
        
        Paddle.prototype.moveDown = function() {
            this.y+=speed;
            redraw();
        }
        
        window.addEventListener('keydown', function(event){
            if((event.keyCode == 38)) {
                
            playerPaddle.moveUp();
                
            if (playerPaddle.y <= 10) {
            playerPaddle.y = 0;
            console.log(playerPaddle);
                
            }
            
            
            }
    
            if((event.keyCode == 40)) {
                
            playerPaddle.moveDown();
                
            if ((playerPaddle.y + playerPaddle.height) >= 590) {
            playerPaddle.y = 600 - playerPaddle.height;
            console.log(playerPaddle);
        }
                
            }
            
        }, false);
        
        Paddle.prototype.render = function () {
            context.fillRect(this.x, this.y, this.width, this.height);
            
            
        };
        
        function Ball(x, y) {
            this.x = x;
            this.y = y;
            //this.x = 400;
            //this.y = 400;
            this.radius = 20;
            this.startAngle = 0;
            this.endAngle = Math.PI*2;
            
        };
        
        Ball.prototype.render = function () {
            context.beginPath();
            context.fillStyle="#0000ff";
            // Draws a circle of radius 20 at the coordinates of x               // and y on the canvas
            context.arc(this.x,this.y, this.radius, this.startAngle, this.endAngle); 
            context.closePath();
            context.fill();
        };
        
        Ball.prototype.move = function () {
          if(this.x<5) {
                player2Score=player2Score+1
                dx=-dx;
            };
               
            if(this.x>995) {
                player1Score=player1Score+1;
                dx=-dx;
            };
               
            if(this.y<20 || this.y>580) dy=-dy;
            
       
            this.x-=dx;
            this.y-=dy;
            
            // ball collission with player paddle
            if((this.x - this.radius == playerPaddle.x + (playerPaddle.width / 2)) && (this.y >= playerPaddle.y) && this.y <= playerPaddle.y + playerPaddle.height) dx = -dx;
            
            // ball collission with computer paddle
            if((this.x + this.radius == computerPaddle.x + (computerPaddle.width / 2)) && (this.y >= computerPaddle.y) && this.y <= computerPaddle.y + computerPaddle.height) dx = -dx;
        };
        
        
        
        var playerPaddle = new Paddle(50, 275);
        var computerPaddle = new Paddle(925, 275);
        var ball = new Ball(500, 300); 
        playerPaddle.render();
        computerPaddle.render();
        ball.render();
        
        
        
        // animate is a variable that will hold one of these functions.
        var animate = window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame    ||
        window.oRequestAnimationFrame      ||
        window.msRequestAnimationFrame     ||
        function(callback) { window.setTimeout(callback, 1000/60) };
        
        function redraw() {
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.font = "50px Arial";
            context.fillText(player1Score, 50, 50);
            context.fillText(player2Score, 925, 50);
            playerPaddle.render();
            computerPaddle.render();
            ball.render();
            console.log(playerPaddle.y);
        }
        
        function step() {
            ball.move();
            redraw();
            animate(step);
        }
        
        animate(step);
        
        
    </script>
  </body>
</html>      